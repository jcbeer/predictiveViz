<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
	<head>
    	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    
    	<!-- iOS meta tags -->
    	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"/>
    	<meta name="apple-mobile-web-app-capable" content="yes">
    	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    	<link rel="stylesheet" type="text/css" href="papaya.css?build=1445" />
    	<script type="text/javascript" src="papaya.js?build=1445"></script>
        <script type="text/javascript" src="js/jquery.ba-bbq.js?1531795364"> </script>
  <script type="text/javascript" src="js/d3.js?1531795364"> </script>
  <script type="text/javascript" src="js/d3.geom.js?1531795364"> </script>
  <script type="text/javascript" src="js/keymaster.js?1531795364"> </script>
  <script type="text/javascript" src="js/scatterize2.js?1531795364"> </script>
    
    	<title>Papaya Viewer</title>
    
    	<script type="text/javascript">
var params = [];
params["images"] = ["data/MNI152_2009_template.nii.gz", "data/coefs.nii.gz"];
params["fullScreen"] = false;
params["kioskMode"] = false;
</script>

<script type="text/javascript">
var Sdata = {};
(function($) {
  $(document).ready(function() {
    Sdata.scatterplot = S2.scatterplot(
      "#scatterplot", 370, 370, 15, 15, 40, 0, 20, 20, S2.color_scales);
    var columns = ["actual SRS", "(0.2, 54.6)", "(0.2, 41.97)", "(0.2, 32.26)", "(0.2, 24.79)", "(0.2, 19.06)", "(0.2, 14.65)", "(0.2, 11.26)", "(0.2, 8.65)", "(0.2, 6.65)", "(0.2, 5.11)", "(0.2, 3.93)", "(0.2, 3.02)", "(0.2, 2.32)", "(0.2, 1.78)", "(0.2, 1.37)", "(0.2, 1.05)", "(0.2, 0.81)", "(0.2, 0.62)", "(0.2, 0.48)", "(0.2, 0.37)", "(0.36, 54.6)", "(0.36, 41.97)", "(0.36, 32.26)", "(0.36, 24.79)", "(0.36, 19.06)", "(0.36, 14.65)", "(0.36, 11.26)", "(0.36, 8.65)", "(0.36, 6.65)", "(0.36, 5.11)", "(0.36, 3.93)", "(0.36, 3.02)", "(0.36, 2.32)", "(0.36, 1.78)", "(0.36, 1.37)", "(0.36, 1.05)", "(0.36, 0.81)", "(0.36, 0.62)", "(0.36, 0.48)", "(0.36, 0.37)", "(0.52, 54.6)", "(0.52, 41.97)", "(0.52, 32.26)", "(0.52, 24.79)", "(0.52, 19.06)", "(0.52, 14.65)", "(0.52, 11.26)", "(0.52, 8.65)", "(0.52, 6.65)", "(0.52, 5.11)", "(0.52, 3.93)", "(0.52, 3.02)", "(0.52, 2.32)", "(0.52, 1.78)", "(0.52, 1.37)", "(0.52, 1.05)", "(0.52, 0.81)", "(0.52, 0.62)", "(0.52, 0.48)", "(0.52, 0.37)", "(0.68, 54.6)", "(0.68, 41.97)", "(0.68, 32.26)", "(0.68, 24.79)", "(0.68, 19.06)", "(0.68, 14.65)", "(0.68, 11.26)", "(0.68, 8.65)", "(0.68, 6.65)", "(0.68, 5.11)", "(0.68, 3.93)", "(0.68, 3.02)", "(0.68, 2.32)", "(0.68, 1.78)", "(0.68, 1.37)", "(0.68, 1.05)", "(0.68, 0.81)", "(0.68, 0.62)", "(0.68, 0.48)", "(0.68, 0.37)", "(0.84, 54.6)", "(0.84, 41.97)", "(0.84, 32.26)", "(0.84, 24.79)", "(0.84, 19.06)", "(0.84, 14.65)", "(0.84, 11.26)", "(0.84, 8.65)", "(0.84, 6.65)", "(0.84, 5.11)", "(0.84, 3.93)", "(0.84, 3.02)", "(0.84, 2.32)", "(0.84, 1.78)", "(0.84, 1.37)", "(0.84, 1.05)", "(0.84, 0.81)", "(0.84, 0.62)", "(0.84, 0.48)", "(0.84, 0.37)", "(1, 54.6)", "(1, 41.97)", "(1, 32.26)", "(1, 24.79)", "(1, 19.06)", "(1, 14.65)", "(1, 11.26)", "(1, 8.65)", "(1, 6.65)", "(1, 5.11)", "(1, 3.93)", "(1, 3.02)", "(1, 2.32)", "(1, 1.78)", "(1, 1.37)", "(1, 1.05)", "(1, 0.81)", "(1, 0.62)", "(1, 0.48)", "(1, 0.37)"];
    
    Sdata.stats_dashboard = S2.stats_dashboard('#summary_stats');
    
    Sdata.state_manager = S2.state_manager(
      'https://webtasks.keck.waisman.wisc.edu/scatterize/d/OPe4Ym9nk0/regress.js',
      'https://webtasks.keck.waisman.wisc.edu/scatterize/d/OPe4Ym9nk0/regress.csv',
      '1531795364',
      columns,
      Sdata.scatterplot,
      '#x_col',
      '#y_col',
      '#x_ticks',
      '#y_ticks',
      '#f_col',
      "#highlight_col",
      '#nuisance_vars',
      '#model_select',
      '#download_link',
      Sdata.stats_dashboard,
      key
    );
    $(window).trigger("hashchange");
  });
  
  // $("#save_button").click(function(e) {
  //   var scatter_parent = $("#scatterplot");
  //   $("#svg_data").val(scatter_parent.html());
  //   console.log($("#svg_data"));
  // }),
  
  $(window).bind("hashchange", function(e) {
    Sdata.state_manager.hashchange(e);
  });
  
})(jQuery);
</script>

<style type="text/css">
.container {
    display: grid;
    grid-template-columns: 600px 600px 200px;
}

.papaya-container {
    background-color: #ccffff;
}

.scatterframe {
    background-color: #ffccff;
} 

.stats_and_controls {
    background-color: #ffcccc;
}
</style>

	</head>

	<body>
		
        <div class="container">
            <div class="papaya-container">
                <div class="papaya" data-params="params"></div>
            </div>
            <div class="scatterframe"> 
                <div id="scatterplot">
                </div>
                <!-- 
                <iframe src="http://webtasks.keck.waisman.wisc.edu/scatterize/d/OPe4Ym9nk0#m=OLS&x=0&y=76" width=690 height=700> </iframe>  -->
            </div>
            <div class="stats_and_controls">
                <div id="controls">
                    <label for="y_col">Y</label>
                    <select id="y_col"> </select>
                </div>
                <div id="summary_stats">
                </div>
            </div>
        </div>
        <div id="hidden_crap">
            <select id="x_col" name="x_col"> </select>
            <input type="text" id="x_ticks" name="x_ticks" />
            <input type="text" id="y_ticks" name="y_ticks" />
            <select id="f_col" name="f_col"> </select>
            <select id="highlight_col" name="highlight_col"> </select>
            <select id="model_select" name="model_select">
            <option value="OLS" selected="selected"> OLS </option></select>

            <a href="#" id="download_link"></a>
        </div>
	</body>
</html>
